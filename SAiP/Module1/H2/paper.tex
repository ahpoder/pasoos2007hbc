\documentclass[a4paper,10pt]{article}

\usepackage[latin1]{inputenc}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{url}
\usepackage{times}
\usepackage{rotating}
\usepackage{multirow}

\renewcommand{\descriptionlabel}[1]
    {\hspace{\labelsep}\emph{#1}}

\begin{document}

\title{Exercise 2: Quality Attributes and Architectural Design of the HS07 System}

\author{
  Anders H Poder, Jesper Dalberg, Lars Kringelbach\\\\
  Department of Computer Science, University of Aarhus\\
  Aabogade 34, 8200 {\AA}rhus N, Denmark\\\\
  \makeatletter
  \texttt{Group 11 - Kilo}\\
  \texttt{19951439, 20074976, 20074842}\\
  \texttt{\{ahp, jdalberg, u074842\}@daimi.au.dk}
}

\date{2008-02-21}

\maketitle

% =====================================================================
\begin{abstract}
  The HS07 system implements a closed-loop control of the heating in a
  private home. It monitors thermometers in the home, and based on
  measurements HS07 adjusts radiators in the home. This report gives a
  quality attribute analysis and discussion and a architectural design of 
  the HS07 system. The techniques used for both quality attributes and 
  architectural design are taken from \cite{bass2003sa}.
\end{abstract}

% =====================================================================
\section{Introduction}

Figure~\ref{fig:hs07} shows a schematic overview of HS07 in a
home. The home may be accessed by the home owner from the outside
through the HS07 gateway. The HS07 gateway also monitors and controls
the home.
\begin{figure}[!htb]
\centerline{\epsfig{figure=figures/hs07,scale=0.4 }}
\caption{HS07 in a home}
\label{fig:hs07}
\end{figure}

HS07 includes sensor and actuator hardware which runs on an embedded Java virtual
machine with standard software.

% =====================================================================
\section{Architectural Requirements}
\label{sec:requirements}

For our purposes there is one main use case for the HS07 system:
\begin{quote}
  \emph{Control Temperature}: The gateway collects measurements from
  thermometers and reports this to radiators that then control the
  temperature.
\end{quote}

The major driving quality attributes of the HS07 system
are:

\begin{itemize}
\item \emph{Performance.} HS07 should be performant so that a large
  number of thermometers and radiators may be part of the system.
\item \emph{Modifiability.} It must be possible to modify HS07 to
  include new types of sensors and actuators.
\item \emph{Usability.} It must be easy to use the gateway user interface.
  include new types of sensors and actuators.
\item \emph{Availability.} The system must be responsive and available for 
both users and hardware elements.
\end{itemize}


% =====================================================================
\section{Quality Attributes}
\subsection{Quality Attributes in the HS07 system}
\subsection{Availability}
As the HS07 relay on distributed components receiving and transmitting information, as well as remote user access over unreliable communication media outside of the systems control, availability has a high priority.
Timely availability
Hard requirements as to timeing of responses from the individual services are not that important in the HS07 system. Whether an actuator responds in 1 second or 5 seconds is not that important, just like the internet link in the gateway will not sease to function if its response time is e.g. doubled.
\subsection{Usability}
The HS07 system must be used by "ordinary" users (e.g. non-technical), and a high degree of usability must therefore be inherent in the architecture to support rapid user interface modification as well as implementing functionality that may aid the user during use.
\subsection{Performance}
Performance and availability are related in the sense that increasing performance may increase timely availability, yet as the timely availability was deemed of low priority, this part of the performance quality attirbute is also of little importance.
Another part of performance is related to footprint and memory usage rather than execution speed, and as the system is based on smaller sensors and actuators, this part of performance becomes very important. It is also related to another important quality; cost.
The system must be able to handle enough sensors and actuators to control a full house.
\subsection{Modifiability}
As the system is based on dynamically replacable sensors and actuators of varying type and specification, it is imparative that the architecture supports these varying specification, and modifiability therefore become vital for the system.
\subsection{Security}
There are always at least two levels to security; percieved security and actual security. As long as the sensors and actuators are controlling non-vital functions, e.g. heating, lights, etc. it may be sufficient with perceived security as an attacker may not endanger safety and have no financial motive. On the other hand if the system is extended to control door-locks and house survailance, then actual security becomes a must. Perceived security is important to dissuade the fun-time intruders and reassure the customer.
\subsection{Testability}
As the system is highly modifiable, regression-testing is highly-important. Also the requirement of availability creates extra demands on testability, as it is required to test many fault scenarios to ensure propper recovery (if this is the fault-handling mechanism of choice).

\subsection{Quality Attribute Selection}
The following chapters documents the selection of the Quality Attributes that we 
select for the HS07 system. The selection of QA is split into a 3-part process.
\begin{itemize}
\item Brainstorming - we think up scenarios
\item Selection - we chose which scenarios are interesting.
\item Refinement - we refine the selected scenarios
\end{itemize}
\subsection{Brainstorming}
In this part of the process we just attempt to think of as many possible scenarios for the HS07 system as we possibly can. 

\subsection{Scenarios}

\begin{enumerate}
\item A sensor stops responding.
\item Someone leaves a window open in an ice storm, and the sensors makes the actuators overheat.
\item Someone accidentally puts their stiletto through the Ethernet switch, disabling networking 
parts of the system.
\item After an average user has used the system for less than one hour e or she has mastered the basic functionality
\item The user adds a new actuator and the system configures to use the new hardware automatically within 1 minute.
\item The user logs on externally through the gateway and has access to the home control within 1 second of verifying 95\% of the time (5 seconds 4\% of the time, more than 5 seconds (unscheduled down-time) less than 1\%) is connected and has access
\item The user attempts to turn radiator above normal safety-level from outside the house and receive an error back explaining the infraction. The system stores a log of the episode and refuse to execute the command.
\item An attacker attempts to log on using an invalid password and is thrown off. The next attempt will take longer (progressive log-on time). The system stores a log of the failed attempt.
\item Developer updates and tests the code base with a new device type in 1 week.
\item A technical installer installs a system at a customer in no more than 4 hours.
\item Developer updates the code base to a new requirement in less than 30 man-hours
\item Configuration manager installs an upgrade remotely at a customer in no more than 30min
\item Tester/debugger extract debugging information directly from running system at customer.
\item The system handles 50 sensors and 50 actuators.
\item The system handles up to 50 rooms/groups with one or more sensors and actuators in each group.
\item The user changes the preferred temperature from a web page and the system adapts to it.
\item The customer requests that the system runs on other hardware (e.g. less power consuming hardware).
\item The customer requests that the system interfaces with other sensors/actuators?
\item The developer modifies the sensor poll interval at build time.
\item The system turns off all actuators when sensors cannot be probed.
\item The end user adds a sensor/actuator at runtime which registers automatically.
\end{enumerate}

\subsection{Selection}
Here we put the scenarios to the vote. This is done by emulation of a real-life situation where the actual stakeholder would
be part of the process. We take on the roles of the stakeholders in their absence, and chose which scenarios would be more
interesting for us.
\subsection{Stakeholders and interests}
\begin{itemize}
\item User (homeowner)
\begin{itemize}
\item Easy to use and configure
\item Always available
\item Safe (will not make an error and burn down the house)
\item Secure (other people cannot control my home)
\end{itemize}
\item Producer
\begin{itemize}
\item Cheap
\item Production line (modifiability for other uses)
\end{itemize}
\item Technical installer
\begin{itemize}
\item Easily deployable (installable)
\end{itemize}
\item Developer (?)
\begin{itemize}
\item Easily adjustable to new requirements
\item Scalable
\item Remote update (upgrading online)
\item Remote maintenance (debugging online)
\item Automatically testable (regression test)
\item Developing in parallel
\end{itemize}
\item Insurance company
\begin{itemize}
\item Safe with respect to fires (radiators) and break ins (door), ...
\end{itemize}
\end{itemize}
\subsection{Identical scenarios}
Due to the distributed location of the participants in the brainstorming multiple "similar" scenarios was created. In order to avoid having the same scenario represented twice with a slightly different wording, the below list show the scenarios which will be considered identical, meaning that their votes will be accumulated.
\begin{itemize}
\item 2. and 7.
\item 6. and 16.
\item 10. and 17.
\item 9. and 18.
\item 1. and 20.
\item 5. and 21.
\end{itemize}
\subsection{The Vote}
\subsection{First vote}
\begin{tabular}{|l|c|c|c|c|c|c|c|}
\hline
Person & Stakeholder Role & Vote 1 & Vote 2 & Vote 3 & Vote 4 & Vote 5 & Vote 6\\
\hline
Jesper&User&4&5&6/16&20&21&2/7\\
Lars&Developer&19&19&5/21&9/18&11&13\\
Anders&Producer&2/7&4&6/16&8&14&5/21\\
\hline
\end{tabular}
\subsection{Second vote}
\begin{tabular}{|l|c|c|c|c|c|c|c|}
\hline
Person & Stakeholder Role & Vote 1 & Vote 2 & Vote 3 & Vote 4 & Vote 5 & Vote 6\\
\hline
Jesper&Developer&11&19&9&11&13&6/16\\
Lars&User&1/20&4&6/16&15&4&5/21\\
Anders&Producer&9&6/16&11&12&17&9/18\\
\hline
\end{tabular}
\subsection{Voting Results}
This is the result of the vote in a prioritized order.
\begin{enumerate}
\item 9/18 (6 votes)
\item 11 (5 votes)
\item 5/21 (4 votes)
\item 6/16 (4 votes)
\item 19 (3 votes)
\item 4 (3 votes)
\item 13 (2 votes)
\item 1/20 (2 votes)
\item 2/7 (2 votes)
\item 10/17 (2 votes)
\item 12 (2 votes)
\item 15 (1 votes)
\item 3 (0 votes)
\item 8 (0 votes)
\item 14 (0 votes)
\end{enumerate}
\subsection{Refinement}
The process of refining the chosen scenarios centers around specification of various elements of the scenario. Stimulus, Response, Response Measurement. 
\begin{table}[!htp]
\begin{center}
\begin{tabular}{|p{0.3cm}|p{2.5cm}|p{8cm}|}
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Scenario(s):} & Developer updates and tests the code base with a new device type in 1 week. \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Relevant Quality Attributes:} & Modifiability \\
  \hline
  \multirow{6}{*}{\begin{sideways}{\bfseries Scenario Parts}\end{sideways}}
  & {\bfseries Source:} & The developer \\
  \cline{2-3}
  & {\bfseries Stimulus:} & Whishes to add a new device type \\
  \cline{2-3}
  & {\bfseries Artifact} & The code \\
  \cline{2-3}
  & {\bfseries Environment:} & At design time \\
  \cline{2-3}
  & {\bfseries Response:} & Modification is made with no side effects \\
  \cline{2-3}
  & {\bfseries Response \mbox{Measure:}} & Modification is made and tested within 1 week \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Questions:} & Does the device use implemented HTTP protocol or do we need an adaptor. Is it necessary to make structual modifications to the user interface. \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Issues:} &  \\
  \hline
\end{tabular}
\caption{Scenario refinement for HS07 - Scenario 9}
\end{center}
\end{table}

\begin{table}[!htp]
\begin{center}
\begin{tabular}{|p{0.3cm}|p{2.5cm}|p{8cm}|}
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Scenario(s):} & The user adds a new actuator and the system configures to use the new hardware automatically within 1 minute \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Relevant Quality Attributes:} & Modifiability, Usability, Performance \\
  \hline
  \multirow{6}{*}{\begin{sideways}{\bfseries Scenario Parts}\end{sideways}}
  & {\bfseries Source:} & The user \\
  \cline{2-3}
  & {\bfseries Stimulus:} & Attaches a new actuator \\
  \cline{2-3}
  & {\bfseries Artifact} & The system \\
  \cline{2-3}
  & {\bfseries Environment:} & Maintanance operation \\
  \cline{2-3}
  & {\bfseries Response:} & New hardware is automatically added to the system configuration and accessible remotely \\
  \cline{2-3}
  & {\bfseries Response \mbox{Measure:}} & Within one minute \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Questions:} & Is the user allwed to install now components himself? \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Issues:} &  \\
  \hline
\end{tabular}
\caption{Scenario refinement for HS07 - Secnerio 5/21}
\end{center}
\end{table}

\begin{table}[!htp]
\begin{center}
\begin{tabular}{|p{0.3cm}|p{2.5cm}|p{8cm}|}
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Scenario(s):} & The user changes the preferred temperature from a web page and the system adapts to it \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Relevant Quality Attributes:} & Usability,  Availability \\
  \hline
  \multirow{6}{*}{\begin{sideways}{\bfseries Scenario Parts}\end{sideways}}
  & {\bfseries Source:} & The user \\
  \cline{2-3}
  & {\bfseries Stimulus:} & Remotely change the temperature \\
  \cline{2-3}
  & {\bfseries Artifact} & The system \\
  \cline{2-3}
  & {\bfseries Environment:} & Normal operation \\
  \cline{2-3}
  & {\bfseries Response:} & Begin adjusting to temperature \\
  \cline{2-3}
  & {\bfseries Response \mbox{Measure:}} & Within 5 seconds \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Questions:} & When do the temperature adjustment begin? When the command is received by the radiator? \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Issues:} &  \\
  \hline
\end{tabular}
\caption{Scenario refinement for HS07 - Scenario 6/16}
\end{center}
\end{table}

\begin{table}[!htp]
\begin{center}
\begin{tabular}{|p{0.3cm}|p{2.5cm}|p{8cm}|}
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Scenario(s):} & Developer updates the code base to a new requirement in less than 30 man-hours \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Relevant Quality Attributes:} & Modifiability, Testability \\
  \hline
  \multirow{6}{*}{\begin{sideways}{\bfseries Scenario Parts}\end{sideways}}
  & {\bfseries Source:} & The developer \\
  \cline{2-3}
  & {\bfseries Stimulus:} & Updates code for new requirement \\
  \cline{2-3}
  & {\bfseries Artifact} & The code base \\
  \cline{2-3}
  & {\bfseries Environment:} & Developement time \\
  \cline{2-3}
  & {\bfseries Response:} & Modification is made with no sideeffect (all unit-/integrationtest pass) \\
  \cline{2-3}
  & {\bfseries Response \mbox{Measure:}} & Less than 30 man-hours \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Questions:} & What limits the allowed requirement changes? \\
  \hline
  \multicolumn{2}{|p{3cm}|}{\bfseries Issues:} & Developer is assumed to know the system architecture \\
  \hline
\end{tabular}
\caption{Scenario refinement for HS07 - Scenario 11}
\end{center}
\end{table}

% =====================================================================
\section{Evaluation}

% =====================================================================
\section{Architectural Design}
% =====================================================================
\bibliography{paper}
\bibliographystyle{apalike}


\end{document}
