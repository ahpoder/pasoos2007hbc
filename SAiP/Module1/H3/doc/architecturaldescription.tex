%%%
% Architectural Description
%%%
\section{Architectural Description -- Beer Web Store}

The architect for a new Beer Web Store for specialty beers has drawn
the following figure of the architecture together with his customers.
\begin{figure}[h!]
  \centerline{\epsfig{figure=figures/beerstore,scale=0.30,clip=true}}
\end{figure}
The system is to support web users that may purchase beers using a web
browser. The system runs on top of a database (``DB''), contains
domain model (``Data''), an overview page (``Overview''), and a
``Basket'' subpart.

\subsection{Architectural Description - Question 1}
\label{sec:arch_desc_q1}

\begin{question}
Which structures does a system such as the above exhibit?
Give examples of elements and relations pertaining to each
structure
\end{question}

The information depicted in the figure above shows several
software structures of the Beer Web Store to some extent.

\subsubsection{Uses}

The \emph{uses structure} shows how elements are related with regard
to usage. One perspective of the uses structure is that the
elements in the figure are ``Overview'', ``Basket'' and ``Data''
which are all related and the database which is only related
to ``Data''. This shows that the overview page and the basket
has been decoupled from the database which therefore can be
replaced without affecting them.

\subsubsection{Layered}

Another perspective is that the users, the webserver and the
database are elements where the relations show that the users
use the webserver and the webserver uses the database. This
also shows the that the architecture is a
\emph{strictly layered structure} where the users cannot
access the database directly.

\subsubsection{Client-Server}

As there are several users, the elements of the
\emph{strictly layered structure} can also be seen as a
\emph{client-server structure}, where the users are clients
and the webserver is a server. The webserver can also be
seen as a client to the database server. This would make it
possible to archieve better performance if several webservers
are used to make load balancing of the user requests.

\subsubsection{Deployment}

With regard to a \emph{deployment structure}, the figure shows
that the overview page, the basket and the domain model (elements)
are allocated to (relations) on the webserver and the database is
allocated to its own server.

\subsection{Architectural Description - Question 2}

\begin{question}
Which viewpoints are relevant when describing the example?
Give examples of partials views for each viewpoint
\end{question}

Selecting the relevant views shall actually be performed on
the basis of the architectural drivers which have not been
determined for the Beer Web Store. There are however several
models that provide a number of views that are often useful,
e.g. the ``4+1'' model \cite{kruchten1995} and the ``3+1''
model \cite{christensen2004archdesc} and many others.

As described in \ref{sec:arch_desc_q1} the figure shows parts
of a module viewpoint (uses, layered), component \& connector
viewpoint (client-server) and an allocation viewpoint
(deployment) which are the recommended viewpoints in
\cite{christensen2004archdesc}.

These viewpoints are all relevant to the Beer Web Store example.
The Module view describes the internals of the webserver and how
the functionality is decomposed into units. The Component \& connector
viewpoint describes the runtime relations between the units and the
Allocation viewpoint describes the environment of the running
system.


XXX: Udvælg views og lav figurer:

- Layered model (refer to figure 1) and decomposition of the server?
- Sequence diagram
- Deployment view 


\fixme{Answer question 2.2}




\subsection{Architectural Description - Question 3}

\begin{question}
Argue for benefits and liabilities of describing software
architecture via a box-and-line drawing such as the above
\end{question}

The benifits of a box-and-line drawing is that it can be written and "understood" by almost anyone. 

\subsection{Architectural Description - Question 4}

\begin{question}
Discuss what architectural description would be needed if
the system was to be realized as a Service-Oriented Architecture
\end{question}

\fixme{Answer question 2.4}
